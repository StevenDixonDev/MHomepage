{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\StevenDev\\\\Documents\\\\git\\\\Mhomepage\\\\components\\\\container\\\\Blog.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport BlogTile from '../presentational/BlogTile';\nimport BlogPost from '../presentational/BlogPost';\nimport '../css/blog.scss';\nimport { withRouter } from 'react-router-dom';\n\nclass BlogSections extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"openArticle\", (e, id) => {\n      e.preventDefault();\n      this.props.history.push(`blog/${id}`);\n    });\n\n    this.state = {\n      docs: [],\n      thumbs: [],\n      currentBlog: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      currentBlog: this.props.match.params.blogId\n    });\n    const db = this.props.fire.firestore();\n    db.collection(\"fl_content\").get().then(refs => this.setState({\n      docs: refs.docs.filter(item => item.data().status === \"published\").map(item => item.data()).sort((a, b) => new Date(a.date) > new Date(b.date) ? -1 : 1)\n    }, () => {}));\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"Blog-Sections\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }, this.state.currentBlog ? __jsx(BlogPost, {\n      post: this.state.docs.filter(item => item.id === this.state.currentBlog)[0],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 35\n      }\n    }) : this.state.docs.map((blog, i) => __jsx(BlogTile, {\n      fire: true,\n      key: i,\n      index: i,\n      data: blog,\n      navigateTo: this.openArticle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 42\n      }\n    })));\n  }\n\n}\n\nexport default withRouter(BlogSections);","map":{"version":3,"sources":["C:/Users/StevenDev/Documents/git/Mhomepage/components/container/Blog.js"],"names":["React","Component","BlogTile","BlogPost","withRouter","BlogSections","constructor","props","e","id","preventDefault","history","push","state","docs","thumbs","currentBlog","componentDidMount","setState","match","params","blogId","db","fire","firestore","collection","get","then","refs","filter","item","data","status","map","sort","a","b","Date","date","render","blog","i","openArticle"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAO,kBAAP;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AAEA,MAAMC,YAAN,SAA2BJ,SAA3B,CAAqC;AACjCK,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,yCAoBJ,CAACC,CAAD,EAAIC,EAAJ,KAAU;AACpBD,MAAAA,CAAC,CAACE,cAAF;AACA,WAAKH,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAyB,QAAOH,EAAG,EAAnC;AACH,KAvBiB;;AAEd,SAAKI,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,MAAM,EAAE,EAFC;AAGTC,MAAAA,WAAW,EAAE;AAHJ,KAAb;AAKH;;AACDC,EAAAA,iBAAiB,GAAE;AACf,SAAKC,QAAL,CAAc;AAACF,MAAAA,WAAW,EAAE,KAAKT,KAAL,CAAWY,KAAX,CAAiBC,MAAjB,CAAwBC;AAAtC,KAAd;AACA,UAAMC,EAAE,GAAG,KAAKf,KAAL,CAAWgB,IAAX,CAAgBC,SAAhB,EAAX;AACAF,IAAAA,EAAE,CAACG,UAAH,CAAc,YAAd,EAA4BC,GAA5B,GACCC,IADD,CACMC,IAAI,IAAI,KAAKV,QAAL,CAAc;AAACJ,MAAAA,IAAI,EACjCc,IAAI,CAACd,IAAL,CAAUe,MAAV,CAAiBC,IAAI,IAAIA,IAAI,CAACC,IAAL,GAAYC,MAAZ,KAAuB,WAAhD,EACCC,GADD,CACKH,IAAI,IAAIA,IAAI,CAACC,IAAL,EADb,EAECG,IAFD,CAEM,CAACC,CAAD,EAAGC,CAAH,KAAS,IAAIC,IAAJ,CAASF,CAAC,CAACG,IAAX,IAAmB,IAAID,IAAJ,CAASD,CAAC,CAACE,IAAX,CAAnB,GAAqC,CAAC,CAAtC,GAAwC,CAFvD;AAD4B,KAAd,EAIZ,MAAI,CAEL,CANa,CADd;AAQH;;AAKDC,EAAAA,MAAM,GAAE;AACJ,WAAQ;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACP,KAAK1B,KAAL,CAAWG,WAAX,GAAyB,MAAC,QAAD;AAAU,MAAA,IAAI,EAAE,KAAKH,KAAL,CAAWC,IAAX,CAAgBe,MAAhB,CAAuBC,IAAI,IAAIA,IAAI,CAACrB,EAAL,KAAY,KAAKI,KAAL,CAAWG,WAAtD,EAAmE,CAAnE,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAzB,GACD,KAAKH,KAAL,CAAWC,IAAX,CAAgBmB,GAAhB,CAAoB,CAACO,IAAD,EAAOC,CAAP,KAAa,MAAC,QAAD;AAAU,MAAA,IAAI,MAAd;AAAe,MAAA,GAAG,EAAEA,CAApB;AAAuB,MAAA,KAAK,EAAEA,CAA9B;AAAiC,MAAA,IAAI,EAAED,IAAvC;AAA6C,MAAA,UAAU,EAAE,KAAKE,WAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAjC,CAFQ,CAAR;AAIH;;AA9BgC;;AAiCrC,eAAetC,UAAU,CAACC,YAAD,CAAzB","sourcesContent":["import React, {Component} from 'react';\r\nimport BlogTile from '../presentational/BlogTile';\r\nimport BlogPost from '../presentational/BlogPost';\r\nimport '../css/blog.scss';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass BlogSections extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            docs: [],\r\n            thumbs: [],\r\n            currentBlog: \"\"\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.setState({currentBlog: this.props.match.params.blogId});\r\n        const db = this.props.fire.firestore();\r\n        db.collection(\"fl_content\").get()\r\n        .then(refs => this.setState({docs: \r\n        refs.docs.filter(item => item.data().status === \"published\")\r\n        .map(item => item.data())\r\n        .sort((a,b) => new Date(a.date) > new Date(b.date)? -1:1)}\r\n        , ()=>{\r\n            \r\n        }));\r\n    }\r\n    openArticle = (e, id) =>{\r\n        e.preventDefault();\r\n        this.props.history.push(`blog/${id}`);\r\n    }\r\n    render(){\r\n        return (<div className=\"Blog-Sections\">\r\n        {this.state.currentBlog ? <BlogPost post={this.state.docs.filter(item => item.id === this.state.currentBlog)[0]}/> :\r\n        this.state.docs.map((blog, i) => <BlogTile fire key={i} index={i} data={blog} navigateTo={this.openArticle} />)}\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default withRouter(BlogSections);"]},"metadata":{},"sourceType":"module"}