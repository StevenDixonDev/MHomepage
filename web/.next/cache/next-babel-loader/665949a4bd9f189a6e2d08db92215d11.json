{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\StevenDev\\\\Documents\\\\git\\\\Mhomepage\\\\Components\\\\container\\\\Blog.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport BlogTile from '../presentational/BlogTile';\nimport BlogPost from '../presentational/BlogPost'; //import '../css/blog.scss';\n\nimport { withRouter } from 'react-router-dom';\n\nvar BlogSections = /*#__PURE__*/function (_Component) {\n  _inherits(BlogSections, _Component);\n\n  var _super = _createSuper(BlogSections);\n\n  function BlogSections(props) {\n    var _this;\n\n    _classCallCheck(this, BlogSections);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"openArticle\", function (e, id) {\n      e.preventDefault();\n\n      _this.props.history.push(\"blog/\".concat(id));\n    });\n\n    _this.state = {\n      docs: [],\n      thumbs: [],\n      currentBlog: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(BlogSections, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        currentBlog: this.props.match.params.blogId\n      });\n      var db = this.props.fire.firestore();\n      db.collection(\"fl_content\").get().then(function (refs) {\n        return _this2.setState({\n          docs: refs.docs.filter(function (item) {\n            return item.data().status === \"published\";\n          }).map(function (item) {\n            return item.data();\n          }).sort(function (a, b) {\n            return new Date(a.date) > new Date(b.date) ? -1 : 1;\n          })\n        }, function () {});\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(\"div\", {\n        className: \"Blog-Sections\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }\n      }, this.state.currentBlog ? __jsx(BlogPost, {\n        post: this.state.docs.filter(function (item) {\n          return item.id === _this3.state.currentBlog;\n        })[0],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 35\n        }\n      }) : this.state.docs.map(function (blog, i) {\n        return __jsx(BlogTile, {\n          fire: true,\n          key: i,\n          index: i,\n          data: blog,\n          navigateTo: _this3.openArticle,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 42\n          }\n        });\n      }));\n    }\n  }]);\n\n  return BlogSections;\n}(Component);\n\nexport default _c = withRouter(BlogSections);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/StevenDev/Documents/git/Mhomepage/Components/container/Blog.js"],"names":["React","Component","BlogTile","BlogPost","withRouter","BlogSections","props","e","id","preventDefault","history","push","state","docs","thumbs","currentBlog","setState","match","params","blogId","db","fire","firestore","collection","get","then","refs","filter","item","data","status","map","sort","a","b","Date","date","blog","i","openArticle"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,QAAP,MAAqB,4BAArB,C,CACA;;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;IAEMC,Y;;;;;AACF,wBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,8BAAMA,KAAN;;AADc,kEAoBJ,UAACC,CAAD,EAAIC,EAAJ,EAAU;AACpBD,MAAAA,CAAC,CAACE,cAAF;;AACA,YAAKH,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,gBAAgCH,EAAhC;AACH,KAvBiB;;AAEd,UAAKI,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,MAAM,EAAE,EAFC;AAGTC,MAAAA,WAAW,EAAE;AAHJ,KAAb;AAFc;AAOjB;;;;wCACkB;AAAA;;AACf,WAAKC,QAAL,CAAc;AAACD,QAAAA,WAAW,EAAE,KAAKT,KAAL,CAAWW,KAAX,CAAiBC,MAAjB,CAAwBC;AAAtC,OAAd;AACA,UAAMC,EAAE,GAAG,KAAKd,KAAL,CAAWe,IAAX,CAAgBC,SAAhB,EAAX;AACAF,MAAAA,EAAE,CAACG,UAAH,CAAc,YAAd,EAA4BC,GAA5B,GACCC,IADD,CACM,UAAAC,IAAI;AAAA,eAAI,MAAI,CAACV,QAAL,CAAc;AAACH,UAAAA,IAAI,EACjCa,IAAI,CAACb,IAAL,CAAUc,MAAV,CAAiB,UAAAC,IAAI;AAAA,mBAAIA,IAAI,CAACC,IAAL,GAAYC,MAAZ,KAAuB,WAA3B;AAAA,WAArB,EACCC,GADD,CACK,UAAAH,IAAI;AAAA,mBAAIA,IAAI,CAACC,IAAL,EAAJ;AAAA,WADT,EAECG,IAFD,CAEM,UAACC,CAAD,EAAGC,CAAH;AAAA,mBAAS,IAAIC,IAAJ,CAASF,CAAC,CAACG,IAAX,IAAmB,IAAID,IAAJ,CAASD,CAAC,CAACE,IAAX,CAAnB,GAAqC,CAAC,CAAtC,GAAwC,CAAjD;AAAA,WAFN;AAD4B,SAAd,EAIZ,YAAI,CAEL,CANa,CAAJ;AAAA,OADV;AAQH;;;6BAKO;AAAA;;AACJ,aAAQ;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACP,KAAKxB,KAAL,CAAWG,WAAX,GAAyB,MAAC,QAAD;AAAU,QAAA,IAAI,EAAE,KAAKH,KAAL,CAAWC,IAAX,CAAgBc,MAAhB,CAAuB,UAAAC,IAAI;AAAA,iBAAIA,IAAI,CAACpB,EAAL,KAAY,MAAI,CAACI,KAAL,CAAWG,WAA3B;AAAA,SAA3B,EAAmE,CAAnE,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAzB,GACD,KAAKH,KAAL,CAAWC,IAAX,CAAgBkB,GAAhB,CAAoB,UAACM,IAAD,EAAOC,CAAP;AAAA,eAAa,MAAC,QAAD;AAAU,UAAA,IAAI,MAAd;AAAe,UAAA,GAAG,EAAEA,CAApB;AAAuB,UAAA,KAAK,EAAEA,CAA9B;AAAiC,UAAA,IAAI,EAAED,IAAvC;AAA6C,UAAA,UAAU,EAAE,MAAI,CAACE,WAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAb;AAAA,OAApB,CAFQ,CAAR;AAIH;;;;EA9BsBtC,S;;AAiC3B,oBAAeG,UAAU,CAACC,YAAD,CAAzB","sourcesContent":["import React, {Component} from 'react';\r\nimport BlogTile from '../presentational/BlogTile';\r\nimport BlogPost from '../presentational/BlogPost';\r\n//import '../css/blog.scss';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass BlogSections extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            docs: [],\r\n            thumbs: [],\r\n            currentBlog: \"\"\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.setState({currentBlog: this.props.match.params.blogId});\r\n        const db = this.props.fire.firestore();\r\n        db.collection(\"fl_content\").get()\r\n        .then(refs => this.setState({docs: \r\n        refs.docs.filter(item => item.data().status === \"published\")\r\n        .map(item => item.data())\r\n        .sort((a,b) => new Date(a.date) > new Date(b.date)? -1:1)}\r\n        , ()=>{\r\n            \r\n        }));\r\n    }\r\n    openArticle = (e, id) =>{\r\n        e.preventDefault();\r\n        this.props.history.push(`blog/${id}`);\r\n    }\r\n    render(){\r\n        return (<div className=\"Blog-Sections\">\r\n        {this.state.currentBlog ? <BlogPost post={this.state.docs.filter(item => item.id === this.state.currentBlog)[0]}/> :\r\n        this.state.docs.map((blog, i) => <BlogTile fire key={i} index={i} data={blog} navigateTo={this.openArticle} />)}\r\n        </div>)\r\n    }\r\n}\r\n\r\nexport default withRouter(BlogSections);"]},"metadata":{},"sourceType":"module"}